(()=>{"use strict";const t="3nqsjcatwu7";self.addEventListener("install",(a=>{a.waitUntil((async()=>{console.log("install");try{const a=await caches.open(t);await a.addAll(["/"])}catch{}self.skipWaiting()})())})),self.addEventListener("activate",(async a=>{console.log("activate"),a.waitUntil((async()=>{const a=await caches.keys();for await(let e of a)e!==t&&await caches.delete(e)})())})),self.addEventListener("fetch",(a=>{a.respondWith((async()=>{const e=a.request,s=fetch(e);try{const a=await s,c=new URL(e.url);if(c.origin===location.origin&&!c.pathname.startsWith("/root/copypasta/")&&!c.pathname.startsWith("/copypasta/")){(await caches.open(t)).put(e,a.clone())}return a}catch{const t=await caches.match(e);return t||s}})())}))})();